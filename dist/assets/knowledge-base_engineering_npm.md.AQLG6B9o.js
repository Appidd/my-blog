import{_ as s}from"./chunks/plugin-vue_export-helper.DlAUqK2U.js";import{U as i,V as a,W as t}from"./chunks/vue.DltMPyKS.js";const n="/image-npm/npm-title.png",e="/image-npm/npm-success.png",h="/image-npm/npm.png",u=JSON.parse('{"title":"创建","description":"","frontmatter":{},"headers":[],"relativePath":"knowledge-base/engineering/npm.md","filePath":"knowledge-base/engineering/npm.md"}'),l={name:"knowledge-base/engineering/npm.md"},p=t(`<p>此为基本使用，后续会按照真实项目进行完善！</p><h1 id="创建" tabindex="-1">创建 <a class="header-anchor" href="#创建" aria-label="Permalink to &quot;创建&quot;">​</a></h1><h2 id="初始化项目" tabindex="-1">初始化项目 <a class="header-anchor" href="#初始化项目" aria-label="Permalink to &quot;初始化项目&quot;">​</a></h2><p>新建一个文件夹，并在该文件夹运行cmd命令</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes material-theme-palenight material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">npm init </span></span>
<span class="line"><span style="--shiki-light:#676E95;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 按照提示输入项目信息，完成后可以在package.json查看</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">  &quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">name</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#F07178;--shiki-dark:#F07178;">: </span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">my_npmname</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#676E95;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> //发布的包名，不能是已经存在的包</span></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">  &quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">version</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#F07178;--shiki-dark:#F07178;">: </span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">1.0.0</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">  &quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">description</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#F07178;--shiki-dark:#F07178;">: </span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;&quot;</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">  &quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">main</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#F07178;--shiki-dark:#F07178;">: </span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">index.js</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">  &quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">scripts</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#F07178;--shiki-dark:#F07178;">: </span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">{</span></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">    &quot;</span><span style="--shiki-light:#F07178;--shiki-dark:#F07178;">test</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">echo </span><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">\\&quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">Error: no test specified</span><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">\\&quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;"> &amp;&amp; exit 1</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">  },</span></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">  &quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">keywords</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#F07178;--shiki-dark:#F07178;">: []</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">  &quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">author</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#F07178;--shiki-dark:#F07178;">: </span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">你的名字</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">  &quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">license</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#F07178;--shiki-dark:#F07178;">: </span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">ISC</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">}</span></span></code></pre></div><h3 id="如何判断包名是否可使用" tabindex="-1">如何判断包名是否可使用？ <a class="header-anchor" href="#如何判断包名是否可使用" aria-label="Permalink to &quot;如何判断包名是否可使用？&quot;">​</a></h3><p>可在官网<a href="https://www.npmjs.com/" target="_blank" rel="noreferrer">npm | Home</a>输入你想取的包名进行搜索，如果能搜索到完全匹配的包，说明这个包名已经被使用，请更换，如果执意不更换包名，那么在上传时会报错。 <img src="`+n+`" alt="image.png"> PS：在npm init阶段，项目名可以任意编辑，后续直接在package.json的name字段更改包名即可</p><h2 id="编辑内容" tabindex="-1">编辑内容 <a class="header-anchor" href="#编辑内容" aria-label="Permalink to &quot;编辑内容&quot;">​</a></h2><p>根据npm包的功能进行代码编写 简单案例：声明一个函数并暴露 新建一个index.js</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes material-theme-palenight material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#C792EA;--shiki-dark:#C792EA;">function</span><span style="--shiki-light:#82AAFF;--shiki-dark:#82AAFF;"> Hello</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">()</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">    console</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#82AAFF;--shiki-dark:#82AAFF;">log</span><span style="--shiki-light:#F07178;--shiki-dark:#F07178;">(</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">Hello World!</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#F07178;--shiki-dark:#F07178;">)</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">exports</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">    Hello</span></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">};</span></span></code></pre></div><h1 id="上传" tabindex="-1">上传 <a class="header-anchor" href="#上传" aria-label="Permalink to &quot;上传&quot;">​</a></h1><h2 id="上传源" tabindex="-1">上传源 <a class="header-anchor" href="#上传源" aria-label="Permalink to &quot;上传源&quot;">​</a></h2><p>检查npm源是否是默认地址 <a href="http://registry.npmjs.org" target="_blank" rel="noreferrer">http://registry.npmjs.org</a></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes material-theme-palenight material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#676E95;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 检查npm源地址</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">npm get registry</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#676E95;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 设置npm源地址 PS: 最好先把自己之前的地址保存起来，后续好换回来</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">npm set registry </span><span style="--shiki-light:#FFCB6B;--shiki-dark:#FFCB6B;">http</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#676E95;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">//registry.npmjs.org</span></span></code></pre></div><h2 id="npm账户" tabindex="-1">NPM账户 <a class="header-anchor" href="#npm账户" aria-label="Permalink to &quot;NPM账户&quot;">​</a></h2><p>上传npm包需要登录到npm，如果没有账户，请到这里注册 <a href="https://www.npmjs.com/" target="_blank" rel="noreferrer">npm | Home</a></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes material-theme-palenight material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">npm login </span><span style="--shiki-light:#676E95;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 按照提示输入用户名，密码，邮箱以及验证码</span></span></code></pre></div><h2 id="上传npm包" tabindex="-1">上传NPM包 <a class="header-anchor" href="#上传npm包" aria-label="Permalink to &quot;上传NPM包&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes material-theme-palenight material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">npm publish</span></span></code></pre></div><h3 id="检查npm包是否上传成功" tabindex="-1">检查npm包是否上传成功 <a class="header-anchor" href="#检查npm包是否上传成功" aria-label="Permalink to &quot;检查npm包是否上传成功&quot;">​</a></h3><p>进入npm官网<a href="https://www.npmjs.com/" target="_blank" rel="noreferrer">npm | Home</a>，直接搜索你自己的npm包名，如果能搜索到，那么就是上传成功了。 <img src="`+e+`" alt="image.png"></p><h2 id="上传私有包" tabindex="-1">上传私有包 <a class="header-anchor" href="#上传私有包" aria-label="Permalink to &quot;上传私有包&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes material-theme-palenight material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">npm publish </span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">--</span><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">access</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">restricted</span></span></code></pre></div><h1 id="更新" tabindex="-1">更新 <a class="header-anchor" href="#更新" aria-label="Permalink to &quot;更新&quot;">​</a></h1><p>如果是多人合作的包，确保当前代码是最新的！！！！</p><h2 id="版本号规则" tabindex="-1">版本号规则 <a class="header-anchor" href="#版本号规则" aria-label="Permalink to &quot;版本号规则&quot;">​</a></h2><p>xxx@x.y.z xxx: 包名 x: 主版本 major 不兼容的API修改 y: 此版本 minor 向下兼容的新功能 z: 修订号 patch 向下兼容的问题修正</p><h2 id="更新指令" tabindex="-1">更新指令 <a class="header-anchor" href="#更新指令" aria-label="Permalink to &quot;更新指令&quot;">​</a></h2><p>npm包第一次上传默认是1.0.0，执行以下对应的更新指令，所对应的数字会自动+1</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes material-theme-palenight material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">npm version patch </span><span style="--shiki-light:#676E95;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 更新修订号</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">npm version minor </span><span style="--shiki-light:#676E95;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 更新次版本</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">npm version major </span><span style="--shiki-light:#676E95;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// 更新主版本</span></span></code></pre></div><p>如：执行一次npm version patch后，版本号变成了 -&gt; @1.0.1</p><h2 id="重新上传" tabindex="-1">重新上传 <a class="header-anchor" href="#重新上传" aria-label="Permalink to &quot;重新上传&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes material-theme-palenight material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">npm publish</span></span></code></pre></div><p>版本更新后，需要重新上传到npm，直接运行npm publish，你的npm包会自动迭代 <img src="`+h+'" alt="image.png"></p><h1 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;使用&quot;">​</a></h1><p>和其他npm包 使用方法一样，在需要的项目中通过npm i下载依赖，并使用import导入。</p>',36),k=[p];function r(D,F,d,o,c,g){return a(),i("div",null,k)}const E=s(l,[["render",r]]);export{u as __pageData,E as default};
