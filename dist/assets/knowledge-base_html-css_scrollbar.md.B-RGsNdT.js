import{_ as a}from"./chunks/plugin-vue_export-helper.DlAUqK2U.js";import{U as s,V as i,W as e}from"./chunks/vue.DltMPyKS.js";const b=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"knowledge-base/html-css/scrollbar.md","filePath":"knowledge-base/html-css/scrollbar.md"}'),l={name:"knowledge-base/html-css/scrollbar.md"},t=e(`<p>关于本文，转自 公众号iCSS 前端趣闻授权 作者：@SbCo 原文：<a href="https://mp.weixin.qq.com/s/vPDwmHw6UusEsLKgQwsEXw" target="_blank" rel="noreferrer">https://mp.weixin.qq.com/s/vPDwmHw6UusEsLKgQwsEXw</a></p><h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-label="Permalink to &quot;前言&quot;">​</a></h2><p>介绍了现代 CSS 中的新特性 ——scrollbar-color 和 scrollbar-width，可以通过这两个属性控制滚动条的颜色和宽度。scrollbar-color 可以设置滚动条的轨道和滑块颜色，而 scrollbar-width 只支持设置滚动条的宽度为系统默认、瘦版或隐藏。这两个属性的应用使得控制滚动条样式更加简单和标准化。</p><p>Chrome 在 121 版本开始，原生支持了两个滚动条样式相关的样式 scrollbar-color 和 scrollbar-width。 要知道，在此前，虽然有 ::-webkit-scrollbar 规范可以控制滚动条，可是，::-webkit-scrollbar 是非标准特性，在 MDN 文档中都明确了不应该在生产环境使用它。 MDN - ::-webkit-scrollbar Non-standard: This feature is non-standard and is not on a standards track. Do not use it on production sites facing the Web: it will not work for every user. There may also be large incompatibilities between implementations and the behavior may change in the future. 而 scrollbar-color 和 scrollbar-width 是官方标准，在 CSS Scrollbars Styling Module Level 1 规范中被提出。 本文，我们就将一起学习看看这两个属性的使用。</p><h4 id="scrollbar-color-设置滚动条颜色" tabindex="-1">scrollbar-color 设置滚动条颜色 <a class="header-anchor" href="#scrollbar-color-设置滚动条颜色" aria-label="Permalink to &quot;scrollbar-color 设置滚动条颜色&quot;">​</a></h4><p>顾名思义，scrollbar-color 就是用于设置滚动条颜色的。 不过有意思的是，一个完整的滚动条，其实是有多个小组件组成的，所以能设置的颜色其实也有很多。 以非标准规范 ::-webkit-scrollbar 为例，它将滚动条拆分成了这么多个部分： <img src="https://cdn.nlark.com/yuque/0/2024/webp/314561/1716179168607-e635289f-ca5e-4795-a242-c33cad5a328c.webp#averageHue=%231d1e24&amp;clientId=u385c7618-7caf-4&amp;from=paste&amp;id=u0126d189&amp;originHeight=520&amp;originWidth=710&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u0560de7c-e917-4327-ab87-594f80688b2&amp;title=" alt=""> 当然，新规范没有这么复杂，我们简化上述的图，可以得到这么一张图： <img src="https://cdn.nlark.com/yuque/0/2024/webp/314561/1716179168709-2b500b78-1890-4474-afaa-9d3666d75845.webp#averageHue=%23f4f4f3&amp;clientId=u385c7618-7caf-4&amp;from=paste&amp;id=ufeb0158e&amp;originHeight=129&amp;originWidth=270&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u1a602e23-4ede-40d1-a59b-b6aaa652871&amp;title=" alt=""> 而 scrollbar-color 能够设置的，正是上图中的 track 和 thumb 的颜色：</p><ul><li>轨道（track）是指滚动条，其一般是固定的而不管滚动位置的背景。</li><li>滑块（thumb）是指滚动条通常漂浮在轨道的顶部上的移动部分。</li></ul><p>简单举个例子:</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes material-theme-palenight material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#F07178;--shiki-dark:#F07178;">div</span><span style="--shiki-light:#C792EA;--shiki-dark:#C792EA;"> class</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#C3E88D;--shiki-dark:#C3E88D;">scroll-box</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">   &lt;p&gt;</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">     Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis quaerat ipsam fugit fugiat cupiditate asperiores neque libero natus atque, suscipit </span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;"> error esse inventore numquam molestiae quas laborum eius debitis cum?</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">     Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis quaerat ipsam fugit fugiat cupiditate asperiores neque libero natus atque, suscipit </span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;"> error esse inventore numquam molestiae quas laborum eius debitis cum?</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">     ...</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">   &lt;/p&gt;</span></span>
<span class="line"><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;"> &lt;/</span><span style="--shiki-light:#F07178;--shiki-dark:#F07178;">div</span><span style="--shiki-light:#89DDFF;--shiki-dark:#89DDFF;">&gt;</span></span></code></pre></div><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes material-theme-palenight material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">.scroll-box {</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">     border: 1px solid #666;</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">     overflow: scroll;</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;"> }</span></span></code></pre></div><p>正常而言，当 <code>&lt;p&gt;</code> 标签内的内容足够多，溢出到开始滚动，则滚动条样式为： <img src="https://cdn.nlark.com/yuque/0/2024/webp/314561/1716179168635-61cc00c1-0f1c-42ea-943f-cef12d2d03a7.webp#averageHue=%23eeeee5&amp;clientId=u385c7618-7caf-4&amp;from=paste&amp;id=ue83a4949&amp;originHeight=454&amp;originWidth=320&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=ufcb9b58e-da82-4fbd-a148-7003fb7e6f0&amp;title=" alt=""> 此时，我们可以通过 scrollbar-color 设置滚动条的轨道颜色和滑块颜色：</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes material-theme-palenight material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">.scroll-box {</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">     border: 1px solid #666;</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">     overflow: scroll;</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">     scrollbar-color: #fff #000;</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">     // OR</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">     scrollbar-color: #000 #fff;</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;"> }</span></span></code></pre></div><p>则，样式表现如下： <img src="https://cdn.nlark.com/yuque/0/2024/webp/314561/1716179168717-12650ed5-6415-415f-a314-b0f17feb69e2.webp#averageHue=%23e3dfd3&amp;clientId=u385c7618-7caf-4&amp;from=paste&amp;id=u6a2e958e&amp;originHeight=577&amp;originWidth=1080&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=ud1dfb31e-0c9a-4fbb-b7bc-69ce37076f3&amp;title=" alt=""> 看图就非常好理解了，简单而言 scrollbar-color: #000 #fff，需要设置两个颜色，将第一种颜色应用于滚动条滑块，第二种颜色应用于滚动条轨道。 当然，上图是在 Windows 操作系统下的样式表现，我再补充一张在 macOS/iOS 操作系统下的样式表现效果： <img src="https://cdn.nlark.com/yuque/0/2024/webp/314561/1716179168779-2b1d406d-0501-4106-9a01-9ba07d124d54.webp#averageHue=%23eae8e7&amp;clientId=u385c7618-7caf-4&amp;from=paste&amp;id=u0fd5303f&amp;originHeight=670&amp;originWidth=1080&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u0d0ab5fe-1d87-4048-9d24-09939801ee0&amp;title=" alt=""> 由于 macOS/iOS 操作系统默认情况下，即便容器内是可滚动的，也不会显示滚动条，上述效果都是在 Hover 状态或者滚动状态下的效果。 并且，值得注意的是，大家可以发现，macOS/iOS 操作系统下滚动条轨道是透明的，无法被设置颜色，只能设置滚动条滑块的颜色。 完整的 DEMO，你可以戳这里：Scrollbar-color Demo：<a href="https://codepen.io/Chokcoco/pen/GRLQzYB?editors=1100" target="_blank" rel="noreferrer">https://codepen.io/Chokcoco/pen/GRLQzYB?editors=1100</a> 当然，值得注意的是。很多人看中文版的 MDN 文档（2024-04-06），会看到除了直接设置两个颜色值，以及上面的 auto 关键字，规范还提供了 light 和 dark 关键字：</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes material-theme-palenight material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">{</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">   /* Keyword values */</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">   scrollbar-color: auto;</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">   scrollbar-color: dark;</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">   scrollbar-color: light;</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;"> }</span></span></code></pre></div><p>在我实测过后，发现实际没有任何浏览器（用户代理）目前支持 light 和 dark 关键字。 中文文档存在一定的滞后性，还是推荐大家直接看英文文档： <img src="https://cdn.nlark.com/yuque/0/2024/webp/314561/1716179168998-b9bc4dfd-0a15-43fd-966f-22ed9bc9f3b1.webp#averageHue=%23f3f2f2&amp;clientId=u385c7618-7caf-4&amp;from=paste&amp;id=u0a8e46e0&amp;originHeight=349&amp;originWidth=1080&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=ue3eb0b34-4d50-47f8-947e-99d47705c9f&amp;title=" alt=""></p><h4 id="scrollbar-width-设置滚动条粗细" tabindex="-1">scrollbar-width 设置滚动条粗细 <a class="header-anchor" href="#scrollbar-width-设置滚动条粗细" aria-label="Permalink to &quot;scrollbar-width 设置滚动条粗细&quot;">​</a></h4><p>了解完 scrollbar-color 后，我们再来看看 scrollbar-width。这个从名字也很好理解，设置滚动条的宽度。 那是否和我们想象的一样，可以任意设置滚动条的宽度，甚至乎，可以定制化的设置滑块和轨道的宽度？ 遗憾的是，在 CSS Scrollbars Styling Module Level 1 一期滚动条规范中，这个属性的功能被设置的非常弱。 不要说分别设置滑块和轨道的宽度，scrollbar-width 目前甚至不支持接受一个宽度数值。 什么意思呢？也就是，当前 scrollbar-width 只接收 3 个关键字：</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes material-theme-palenight material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">{</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">   /* Keyword values */</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">   scrollbar-width: auto;</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">   scrollbar-width: thin;</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;">   scrollbar-width: none;</span></span>
<span class="line"><span style="--shiki-light:#BABED8;--shiki-dark:#BABED8;"> }</span></span></code></pre></div><ul><li>scrollbar-width: auto：系统默认的滚动条宽度。</li><li>scrollbar-width: thin：系统提供的瘦滚动条宽度，或者比默认滚动条宽度更窄的宽度</li><li>scrollbar-width: none：不显示滚动条，但是该元素依然可以滚动</li></ul><p>简单示意图如下： <img src="https://cdn.nlark.com/yuque/0/2024/webp/314561/1716179169067-9646ddc6-0300-4a2f-854d-b351dd27af00.webp#averageHue=%23dbd9d1&amp;clientId=u385c7618-7caf-4&amp;from=paste&amp;id=u63ad4c53&amp;originHeight=431&amp;originWidth=1080&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u932db85e-1666-4e4d-b1a1-a6fad801982&amp;title=" alt=""> 完整的 DEMO，你可以戳这里：Scrollbar-width Demo：<a href="https://codepen.io/Chokcoco/pen/eYoVxqd?editors=1100" target="_blank" rel="noreferrer">https://codepen.io/Chokcoco/pen/eYoVxqd?editors=1100</a></p><h4 id="总结一下" tabindex="-1">总结一下 <a class="header-anchor" href="#总结一下" aria-label="Permalink to &quot;总结一下&quot;">​</a></h4><p>可以看到，其实就目前 scrollbar-width 而言，其能力还是属于比较鸡肋的。相对正常的样式，仅仅多了一种瘦版样式选择以及提供了无滚动条模式。 当然，整个 scrollbar-color 和 scrollbar-width 相较于非标准的 ::-webkit-scrollbar 规范已经是非常大的一步跨越。只是其功能的丰富性和全面性还需要等待。</p>`,22),n=[t];function p(r,o,c,h,d,m){return i(),s("div",null,n)}const g=a(l,[["render",p]]);export{b as __pageData,g as default};
